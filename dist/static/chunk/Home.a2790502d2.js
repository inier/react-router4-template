(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{QBym:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r="CHANGE_INPUT_INFO",a="GET_MEMBER_LIST"},gNX0:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});var r,a=n("YEIV"),o=n.n(a),u=n("QBym"),i=e({memberList:[],inputInfo:{name:"",tel:""},title:"成员列表s"}),c=(r={},o()(r,u.a,function(t,n){return t.set("inputInfo",e(n.msg))}),o()(r,u.b,function(t,n){return t.set("memberList",e(n.msg))}),r);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1],n=c[t.type];return n?n(e,t):e}}).call(this,n("Mpt7").fromJS)},lHeA:function(e,t,n){"use strict";n.r(t);var r=n("B/yb"),a=n("gNX0"),o=n("Yz+Y"),u=n.n(o),i=n("iCc5"),c=n.n(i),s=n("V7oC"),l=n.n(s),m=n("FYw3"),p=n.n(m),f=n("mRg0"),h=n.n(f),d=n("q1tI"),v=n.n(d),b=n("/MKj"),E=n("ANjH"),g=n("2iEm"),I=n("QbLZ"),C=n.n(I),_=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||u()(t)).call(this,e));return n.handleClick=function(){var e=n.props;(0,e.postNewInfo)(e.inputInfo).then(function(e){return console.log("success return ",e)}).catch(function(e){return console.error(e)})},n}return h()(t,e),l()(t,[{key:"handleChange",value:function(e,t){var n=this.props,r=n.changeInputInfo,a=n.inputInfo,o=C()({},a);o[e]=t.target.value,r(o)}},{key:"render",value:function(){var e=this.props.inputInfo,t=e.name,n=e.tel;return v.a.createElement("div",{className:"new-member"},v.a.createElement("p",null,"姓名：",v.a.createElement("input",{type:"text",value:t,onChange:this.handleChange.bind(this,"name")})),v.a.createElement("p",null,"电话：",v.a.createElement("input",{type:"tel",value:n,onChange:this.handleChange.bind(this,"tel")})),v.a.createElement("button",{onClick:this.handleClick},"提交"))}}]),t}(d.PureComponent),y=function(e){function t(e){return c()(this,t),p()(this,(t.__proto__||u()(t)).call(this,e))}return h()(t,e),l()(t,[{key:"render",value:function(){return this.props.memberList.map(function(e,t){return v.a.createElement("li",{key:t},v.a.createElement("p",null,"name:",v.a.createElement("span",null,e.name)),v.a.createElement("p",null,"tel:",v.a.createElement("span",null,e.tel)))})}}]),t}(d.PureComponent),w=function(e){var t=e.memberList;return v.a.createElement("div",{className:"member-list-wrap"},v.a.createElement("ul",{className:"member-list"},v.a.createElement(y,{memberList:t})))},k=(n("r6pN"),function(e){function t(e){return c()(this,t),p()(this,(t.__proto__||u()(t)).call(this,e))}return h()(t,e),l()(t,[{key:"componentWillMount",value:function(){this.props.getMemberList()}},{key:"render",value:function(){var e=this.props,t=e.homeState,n=e.changeInputInfo,r=e.postNewInfo,a=t?t.toJS():{memberList:[],inputInfo:{}},o=a.memberList,u=a.inputInfo;return v.a.createElement("div",{id:"home-container"},v.a.createElement(_,{inputInfo:u,changeInputInfo:n,postNewInfo:r}),v.a.createElement(w,{memberList:o}),v.a.createElement(g.a,{to:{pathname:"/test",search:"?name=homename",state:{mold:"add"}},className:"home-link"},"点击跳转到 test page sasas"))}}]),t}(d.Component)),N=n("14Xm"),L=n.n(N),j=n("D3Ub"),T=n.n(j),M=n("QBym"),O=n("4d7F"),A=n.n(O),P=n("P2sY"),S=n.n(P),X=n("sk9p"),B=n.n(X),G=n("vDqi"),Y=n.n(G),x="http://192.168.2.244:3167";function H(e){return e.replace(/\/$/,"")}function J(e){return/^\//.test(e)?e:"/"+e}function Q(e){var t=e.method,n=e.url,r=e.data,a=void 0===r?{}:r,o=e.host,u=e.headers;t=t&&t.toUpperCase()||"GET";var i=function(e){var t=e.split("?"),n=B()(t,2),r=n[0],a=void 0===r?"":r,o=n[1],u={};return(void 0===o?"":o).split("&").forEach(function(e){var t=e.split("="),n=B()(t,2),r=n[0],a=n[1];u[r]=a}),{path:a,params:u}}(n),c=i.path,s=i.params;return n=o?""+H(o)+J(c):""+H(x)+J(c),Y()({url:n,method:t,headers:u,data:"GET"===t?void 0:a,params:S()("GET"===t?a:{},s)}).catch(function(e){return console.log("request error, HTTP CODE: ",e.response.status),A.a.reject(e)})}console.log(x);var q=function(e,t){return Q({url:e,data:t})},D=function(e,t){return Q({method:"POST",url:e,data:t})};function F(){return q("/list").then(function(e){return e.data})}function R(e){return e.name?D("/list",e).then(function(e){return e.data}):A.a.reject("name is wrong")}function U(){return function(e){F().then(function(t){return e({type:M.b,msg:t})}).catch(function(e){return console.log("error ",e)})}}function V(e){return{type:M.a,msg:e}}function z(e){var t,n=this;return console.log("newMember",e),t=T()(L.a.mark(function t(r){var a;return L.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e);case 2:return t.next=4,F();case 4:return a=t.sent,r({type:M.b,msg:a}),t.abrupt("return","success");case 7:case"end":return t.stop()}},t,n)})),function(e){return t.apply(this,arguments)}}var K=function(e){function t(e){return c()(this,t),p()(this,(t.__proto__||u()(t)).call(this,e))}return h()(t,e),l()(t,[{key:"render",value:function(){return v.a.createElement(k,this.props)}}]),t}(d.Component);var W;t.default=(W="homeXXX",r.a.injectReducer(W,a.a),function(e){return Object(b.connect)(function(t){return{homeState:t.get(e)}},function(e){return{getMemberList:Object(E.bindActionCreators)(U,e),changeInputInfo:Object(E.bindActionCreators)(V,e),postNewInfo:Object(E.bindActionCreators)(z,e)}})(K)}(W))}}]);